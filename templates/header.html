<meta charset="UTF-8">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/static/css/index.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<div id="loginLinks" style="text-align: right; flex-direction: column; margin: 10px">
    <span><a href="/login" style="font-size: 12px; text-decoration: none; color: white;">로그인</a></span>
    <span style="font-size: 12px">/</span>
    <span><a href="/sign_in" style="font-size: 12px; text-decoration: none; color: white;">회원가입</a></span>
</div>

<div id="logoutLinks" style="text-align: right; flex-direction: column; margin: 10px; display: none;">
    <span><a href="#" id="logoutBtn" style="font-size: 12px; text-decoration: none; color: white;">로그아웃</a></span>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var loginLinks = document.getElementById('loginLinks');
        var logoutLinks = document.getElementById('logoutLinks');
        var logoutBtn = document.getElementById('logoutBtn');

        var accessTokenKey = 'accessToken';
        var refreshTokenKey = 'refreshToken';

        var logout = function() {
            localStorage.removeItem(accessTokenKey);
            localStorage.removeItem(refreshTokenKey);
            // 이후 추가적인 로그아웃 처리 작업을 수행할 수 있습니다.
        };

        logoutBtn.addEventListener('click', function(event) {
            event.preventDefault();
            logout();
            loginLinks.style.display = 'block'; // 로그아웃 후 loginLinks를 보여줍니다.
            logoutLinks.style.display = 'none'; // 로그아웃 후 logoutLinks를 숨깁니다.
        });

        var accessToken = localStorage.getItem(accessTokenKey);

        if (accessToken) {
            loginLinks.style.display = 'none'; // accessToken이 있을 경우 loginLinks를 숨깁니다.
            logoutLinks.style.display = 'block'; // accessToken이 있을 경우 logoutLinks를 보여줍니다.
        } else {
            loginLinks.style.display = 'block'; // accessToken이 없을 경우 loginLinks를 보여줍니다.
            logoutLinks.style.display = 'none'; // accessToken이 없을 경우 logoutLinks를 숨깁니다.
        }
    });
</script>
